function init(){getTvTypes(function(i){initTypesList(i,function(){loadTVlistByType(mainId,function(){})})})}function loadTVlistByType(i,e){var a=i,t=$("#typeList .swiper-slide").eq(a).attr("data-id"),n=$("#container2Wrapper .swiper-slide").eq(a);return(!dataFlag[""+t]||!dataFlag[""+t].flag)&&(req&&(req.abort(),req=null),showLoading(),void(req=$.ajax({type:"GET",url:serverAddress+"/utvgoClient/interfaces/getRadio_list.action?pageNo=1&pageSize=1000&areaId="+t,dataType:"json",success:function(i){if(0==i.status){for(var a,s=i.result,o="",d=0,r=s.length;d<r;d++)a=s[d],o+='<div class="zb-item"> <div  class="zb-item-link clearfix"> <div data-href="./gb_listShow.html?contentId='+a.id+"&fetchRadioId="+a.fetchRadioId+'"  class="zb-item-logo" style=""></div> <div class="zb-item-text"> <p class="zb-item-now ellipsis">'+a.radioName+'</p> <p class="zb-item-next ellipsis">正在播出：'+a.showName+'</p> </div> <!--<div class="zb-item-icon"></div>--> </div> </div>';s.length<=0&&(o+='<div class="noDtataTips">暂无数据</div>'),n.html(o),e&&e()}hideLoading(),dataFlag[""+t]={},dataFlag[""+t].flag=!0},error:function(i,e){}})))}function initSwiper(i){var e=new Swiper("#swiper-container1",{paginationClickable:!0,slidesPerView:"auto",freeMode:!0,initialSlide:i}),a=new Swiper("#swiper-container2",{paginationClickable:!0,initialSlide:i,onSlideChangeEnd:function(i,t){$(".listType-item.on").removeClass("on"),$(".listType-item").eq(a.activeIndex).addClass("on"),e.swipeTo(a.activeIndex,200,!1),loadTVlistByType(i.activeIndex),mainId=i.activeIndex},onFirstInit:function(e,a){e.activeIndex=i}});$(".listType-item").eq(a.activeIndex).addClass("on"),$("#swiper-container1").on("tap",".listType-item",function(){var i=$(this),e=i.index();$(".listType-item.on").removeClass("on"),i.addClass("on"),a.swipeTo(e,300,!1),loadTVlistByType(e),mainId=e})}function getTvTypes(i){showLoading(),req=$.ajax({type:"GET",url:serverAddress+"/utvgoClient/interfaces/getFilterWords_list.action?channelId=10056",data:{},dataType:"json",success:function(e){var a=e.result[0].areas||[];0==e.status,i&&i(a)},error:function(i,e){}})}function initTypesList(i,e){for(var a=i,t="",n="",s=0,o=i.length;s<o;s++)a[s].name&&(t=t+'<li class="listType-item swiper-slide " data-id="'+a[s].id+'"><span>'+(a[s].name||"--")+"</span><!--<i></i> --></li>",a[s].id&&(n+='<li id="" class="indexContentBox swiper-slide overflow-scroll-y"></li>'));$("#typeList").html(t),$("#container2Wrapper").html(n),initSwiper(mainId),hideLoading(),e&&e()}var dataFlag={},req=null,urlParaObj={},mainId=0;showLoading(),$(document).ready(function(){urlParaObj=getUrlPara(),mainId=sessionStorage.getItem("audioArea")||0,mainId=parseInt(mainId,10),sessionStorage.removeItem("audioArea"),init()}),$("#container2Wrapper").on("tap",".zb-item-logo",function(){var i=$(this),e=(i.parent(),i.attr("data-href"));sessionStorage.setItem("audioArea",mainId),window.location.href=e}).on("tap",".zb-item-icon",function(){var i=$(this);i.hasClass("on")?i.removeClass("on"):i.addClass("on")});