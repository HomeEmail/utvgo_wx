function indexBannerChangeH(){var e=$(window).width();$("#indexTopBannerBox").height(Math.floor(e/(640/280)))}function initTopBanner(){scrollerIndexTopBanner=new Swiper("#indexTopBannerBox",{pagination:"#slideTopBannerIndicator",paginationClickable:!0,slidesPerView:1,loop:!0,autoplay:8e3,onFirstInit:bannerPageChangeTips,onSlideChangeEnd:bannerPageChangeTips})}function bannerPageChangeTips(e){var n=e.activeLoopIndex||0,a="";indexData&&(a=indexData.result.headPics[n].name),$("#indexTopBannerTextBar").html(a)}function hasDetailPage(e){for(var n=[10085,10086],a=0,t=n.length;a<t;a++)if(e==n[a])return!0;return!1}function renderTopBanner(e){for(var n="",a="",t=e.result.headPics,i=0,r=t.length;i<r;i++)a=hasDetailPage(t[i].extra.channelId)?"./dyDetail.html?channelId="+t[i].extra.channelId+"&contentId="+t[i].extra.id+"&type="+(10086==t[i].extra.channelId?"dsj":"dy"):"list_set.html?qdId="+t[i].extra.id+"&qdName="+t[i].extra.name,n+='<li class="swiper-slide"> <a href="'+a+'"><img src="'+t[i].bigImg+'" /></a> </li>';$("#scrollerIndexTopBanner").append(n),initTopBanner()}function renderHots(e){for(var n="",a="",t=e.result.hots,i=0,r=t.length;i<r;i++)a="list_set.html?qdId="+t[i].extra.id+"&qdName="+t[i].extra.name,n+='<div class="rdzx-item"> <a href="'+a+'" class="rdzx-item-link"><img src="'+t[i].bigImg+'" /> <p class="rdzx-text">'+t[i].name+"</p></a> </div>";$("#rdzxContent").append(n)}function renderTVs(e){for(var n="",a=e.result.tvs,t=0,i=a.length;t<i;t++)n+='<div class="zb-item"> <a href="./zb_listShow.html?playName='+encodeURIComponent(a[t].extra.tvName)+"&playUrl="+encodeURIComponent(a[t].extra.playUrl)+"&playImg="+encodeURIComponent("")+"&contentId="+encodeURIComponent(a[t].extra.id)+"&col=2&type="+encodeURIComponent(a[t].type)+'" class="zb-item-link clearfix"> <div class="zb-item-logo" style="background-image:url('+a[t].extra.img+');"></div> <div class="zb-item-text"> <p class="zb-item-name ellipsis">'+a[t].name+'</p> <p class="zb-item-now ellipsis">'+a[t].extra.showTime+" "+(a[t].extra.showName?a[t].extra.showName:"暂无节目名称")+'</p> <p class="zb-item-next ellipsis">'+a[t].extra.nextShowTime+" "+(a[t].extra.nextShowName?a[t].extra.nextShowName:"暂无节目预告")+'</p> </div> <div class="zb-item-icon"></div>'+(a[t].extra.isOpen?"":'<div class="zb-nolimitTime-icon"></div>')+"</a> </div> ";$("#zbContent").append(n)}function renderDy(e){for(var n="",a="",t=e.result.ys,i=0,r=t.length;i<r;i++)a="./dyDetail.html?channelId="+t[i].extra.channelId+"&contentId="+t[i].extra.id+"&type="+(10086==t[i].extra.channelId?"dsj":"dy"),n+='<div class="rmdy-item"> <a href="'+a+'" class="rmdy-item-link"><img src="'+t[i].bigImg+'" /> <p class="rdzx-text ellipsis">'+t[i].extra.name+"</p></a> </div>";$("#rmdyContent").append(n)}function renderJJ(e){for(var n="",a="",t=e.result.zqs,i=0,r=t.length;i<r;i++)a="./dyDetail.html?channelId="+t[i].extra.channelId+"&contentId="+t[i].extra.id+"&type="+(10086==t[i].extra.channelId?"dsj":"dy"),n+='<div class="rmdy-item"> <a href="'+a+'" class="rmdy-item-link"><img src="'+t[i].bigImg+'" /> <p class="rdzx-text ellipsis">'+t[i].extra.name+"</p></a> </div>";$("#jjtjContent").append(n)}function renderDm(e){for(var n="",a="",t=e.result.dm,i=0,r=t.length;i<r;i++)a="list_set.html?qdId="+t[i].extra.id+"&qdName="+t[i].extra.name,n+='<div class="rdzx-item"> <a href="'+a+'" class="rdzx-item-link"><img src="'+t[i].bigImg+'" /> <p class="rdzx-text">'+t[i].name+"</p></a> </div>";$("#rmdmContent").append(n)}function renderYyzq(e){for(var n="",a=e.result.spList,t=0,i=a.length;t<i;t++)n+='<div class="yyzq-item"> <a href="list_common.html?supplierId='+a[t].id+"&spName="+a[t].name+'" class="yyzq-item-link"><img src="'+a[t].img+'" /> <p class="yyzq-text ellipsis">'+a[t].name+"</p></a></div>";$("#yyzqContent").append(n)}indexBannerChangeH();var indexData=null;$.ajax({type:"GET",url:serverAddress+"/utvgoClient/interfaces/main_index.action",data:{},dataType:"json",success:function(e){indexData=e,renderTopBanner(e),renderHots(e),hideLoading(),renderTVs(e),renderDy(e),renderJJ(e),renderDm(e)},error:function(e,n){}});